#!/bin/bash
cd ~/gemini-os || exit

# Lisätään kaikki muutokset (myös uudet tiedostot)
cp -r ~/bin .
cp -r ~/gemini-api .
git add .

# Tehdään commit vain jos on muutoksia
if ! git diff-index --quiet HEAD --; then
    git commit -m "Gemini OS Backup $(date +'%Y-%m-%d %H:%M')"
fi

# Selvitetään nykyinen haara (master tai main)
BRANCH=$(git rev-parse --abbrev-ref HEAD)

# Puskettaan oikeaan haaraan
git push origin "$BRANCH"
